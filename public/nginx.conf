# Try files before falling back to index.html for client-side routing
try_files $uri $uri/ /index.html;

# Cache static assets
location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}

# Special handling for alert routes
location /alerts/ {
    add_header X-Robots-Tag "noindex, nofollow";
    add_header Cache-Control "no-store, no-cache, must-revalidate";
    try_files $uri $uri/ /index.html;
}